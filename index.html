<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>6AD Assembly Access</title>
  <link rel="stylesheet" href="https://lucgei231.github.io/6adassembly/style.css">
</head>
<body>
  <div id="motivationQuote"></div>
  <div id="lowBatteryBanner">Low Battery! Please plug in your device!</div>
  <div id="fakeVirusModal">
    <div>‚ö†Ô∏è VIRUS DETECTED!<br><br>Your device is infected!<br><br><span style="color:#333;font-size:16px;">Just kidding!</span></div>
    <button onclick="document.getElementById('fakeVirusModal').style.display='none'">Phew!</button>
  </div>
  <div id="laserPointer"></div>
  <button id="logoutBtn" onclick="logout()">Log Out</button>
  <div class="section">
    <h2 id="viewOnlyTitle">View Only</h2>
    <button onclick="window.location.href='https://tinyurl.com/6ADassembly'">Script</button>
    <button onclick="window.location.href='https://tinyurl.com/6ADassemblypresentation'">Presentation</button>
    <button onclick="window.location.href='https://www.youtube.com/watch?v=dqpkWsR6Yew'">Harvest Samber</button>
  </div>
  <div class="section">
    <h2 id="editableTitle">Editable (only for Jack G)</h2>
    <div>
      <button onclick="showPasswordPrompt('https://tinyurl.com/6ADjackg1')">Script</button>
      <button onclick="showPasswordPrompt('https://tinyurl.com/6ADjackg2')">Presentation</button>
    </div>
    <div class="password-container" id="passwordPrompt" style="display:none;">
      <input type="password" id="passwordInput" placeholder="Enter password">
      <div class="remember-container">
        <input type="checkbox" id="rememberMe">
        <label for="rememberMe">Remember Me</label>
      </div>
      <button onclick="checkPassword()" id="goBtn">Go</button>
      <button id="forgotPasswordBtn" style="margin-left:10px;background:#e74c3c;color:#fff;border:none;border-radius:6px;padding:7px 18px;font-size:16px;cursor:pointer;">Forgot Password?</button>
    </div>
  </div>
  <!-- Settings Button & Modal -->
  <button id="settingsBtn" title="Funny Settings">‚öôÔ∏è</button>
  <div id="settingsModal">
    <h3>Funny Settings</h3>
    <div class="setting-row"><input type="checkbox" id="comicSansifyToggle"><label for="comicSansifyToggle">Comic Sansify</label></div>
    <div class="setting-row"><input type="checkbox" id="discoModeToggle"><label for="discoModeToggle">Disco Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="bouncyButtonsToggle"><label for="bouncyButtonsToggle">Bouncy Buttons</label></div>
    <div class="setting-row"><input type="checkbox" id="applauseToggle"><label for="applauseToggle">Applause on Success</label></div>
    <div class="setting-row"><input type="checkbox" id="pirateModeToggle"><label for="pirateModeToggle">Pirate Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="confettiToggle"><label for="confettiToggle">Celebrate Everything</label></div>
    <div class="setting-row"><input type="checkbox" id="motivationToggle"><label for="motivationToggle">Show Motivational Quotes</label></div>
    <div class="setting-row"><input type="checkbox" id="upsideDownToggle"><label for="upsideDownToggle">Upside Down Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="typewriterToggle"><label for="typewriterToggle">Typewriter Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="censoredToggle"><label for="censoredToggle">Censored Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="raveModeToggle"><label for="raveModeToggle">Rave Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="dramaticToggle"><label for="dramaticToggle">Dramatic Soundtrack</label></div>
    <div class="setting-row"><input type="checkbox" id="emojiRainToggle"><label for="emojiRainToggle">Emoji Rain</label></div>
    <div class="setting-row"><input type="checkbox" id="memeToggle"><label for="memeToggle">Meme Overlay</label></div>
    <div class="setting-row"><input type="checkbox" id="rickrollToggle"><label for="rickrollToggle">Rickroll Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="mirrorToggle"><label for="mirrorToggle">Mirror Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="laserToggle"><label for="laserToggle">Laser Pointer Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="clownHornToggle"><label for="clownHornToggle">Clown Horn on Click</label></div>
    <div class="setting-row"><input type="checkbox" id="surprisePopupToggle"><label for="surprisePopupToggle">Surprise Popups</label></div>
    <div class="setting-row"><input type="checkbox" id="lowBatteryToggle"><label for="lowBatteryToggle">Low Battery Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="shakespeareToggle"><label for="shakespeareToggle">Shakespearean Mode</label></div>
    <div class="setting-row"><input type="checkbox" id="fakeVirusToggle"><label for="fakeVirusToggle">Fake Virus Warning</label></div>
    <button id="closeSettingsBtn">Close</button>
  </div>
  <div id="forgotPasswordModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.35);z-index:3000;justify-content:center;align-items:center;">
    <div id="forgotPasswordContent" style="position:relative;width:90vw;max-width:500px;height:70vh;background:#fff;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.4);overflow:hidden;display:flex;flex-direction:column;align-items:stretch;">
      <button id="closeForgotPasswordBtn" style="position:absolute;top:10px;right:10px;background:#e74c3c;color:#fff;border:none;border-radius:50%;width:36px;height:36px;font-size:22px;cursor:pointer;z-index:10;">‚úñ</button>
      <!-- The iframe is now created dynamically for better reliability -->
      <div id="forgotPasswordIframeContainer" style="flex:1;display:flex;"></div>
    </div>
  </div>
  <audio id="applauseAudio" src="https://cdn.jsdelivr.net/gh/peachananr/applause@main/applause.mp3" preload="auto"></audio>
  <audio id="dramaticAudio" src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b78a2e2.mp3" loop preload="auto"></audio>
  <audio id="clownHornAudio" src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b78a2e2.mp3" preload="auto"></audio>

  <script>
    // --- Funny Settings ---
    const funnySettings = [
      'comicSansify','discoMode','bouncyButtons','applause','pirateMode','confetti','motivationalQuotes','upsideDownMode',
      'typewriter','censored','raveMode','dramatic','emojiRain','meme','rickroll','mirror','laser','clownHorn',
      'surprisePopup','lowBattery','shakespeare','fakeVirus'
    ];
    // Motivational quotes
    const motivationalQuotes = [
      "Believe you can and you're halfway there.",
      "You are braver than you believe, stronger than you seem, and smarter than you think.",
      "Keep going. Everything you need will come to you.",
      "Success is not for the lazy!",
      "If you think you can, you can.",
      "The best way to get started is to quit talking and begin doing.",
      "Don't watch the clock; do what it does. Keep going.",
      "Dream big and dare to fail."
    ];
    // Shakespearean phrases
    const shakespearePhrases = {
      "Log Out":"Depart hence!",
      "Go":"Proceed!",
      "Editable (only for Jack G)":"Editable (for Lord Jack G)",
      "View Only":"View Only (Forsooth!)"
    };
    // Surprise facts
    const surpriseFacts = [
      "Did you know: chickens can't taste spicy food!",
      "Fact: The inventor of the frisbee was turned into a frisbee after he died.",
      "Random: Cats have fewer toes on their back paws.",
      "Surprise: The shortest war in history lasted 38 minutes.",
      "Fun: A group of flamingos is called a 'flamboyance'."
    ];
    // Meme images
    const memeImages = [
      "https://media.giphy.com/media/Vuw9m5wXviFIQ/giphy.gif",
      "https://media.giphy.com/media/3o6ZtaO9BZHcOjmErm/giphy.gif",
      "https://i.imgflip.com/30b1gx.jpg",
      "https://i.kym-cdn.com/entries/icons/facebook/000/000/774/yeah.jpg",
      "https://media.giphy.com/media/l41lI4bYmcsPJX9Go/giphy.gif"
    ];
    // Emojis
    const emojiList = ["üòÇ","ü•≥","üéâ","ü§°","üëæ","üêî","üçï","üèÜ","üî•","üöÄ","ü§ñ","üêô","ü¶Ñ"];
    let discoInterval, raveInterval, memeInterval, surpriseInterval, emojiInterval, typewriterTimeout;
    let laserPointerActive = false;
    let rickrollTimer = null;
    // --- Settings Modal ---
    document.getElementById('settingsBtn').onclick = () => document.getElementById('settingsModal').style.display = 'block';
    document.getElementById('closeSettingsBtn').onclick = () => document.getElementById('settingsModal').style.display = 'none';
    window.onclick = (e) => {
      if (e.target === document.getElementById('settingsModal')) document.getElementById('settingsModal').style.display = 'none';
    };

    // --- Load & Apply on Load ---
    window.onload = function() {
      if (localStorage.getItem('rememberMeJackG')) document.getElementById('logoutBtn').style.display = 'block';
      funnySettings.forEach((setting) => {
        const checked = localStorage.getItem(setting) === 'true';
        const toggle = document.getElementById(setting + 'Toggle');
        if (toggle) toggle.checked = checked;
        applySetting(setting, checked);
      });
      if (localStorage.getItem('motivationalQuotes') === 'true') showMotivationalQuote();
      if(localStorage.getItem('laser') === 'true') enableLaserPointer(true);
    };

    // --- Motivational Quote ---
    function showMotivationalQuote() {
      const quoteBox = document.getElementById('motivationQuote');
      quoteBox.textContent = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
      quoteBox.style.display = 'block';
    }
    function hideMotivationalQuote() {
      document.getElementById('motivationQuote').style.display = 'none';
    }
    // --- Settings Handlers ---
    funnySettings.forEach((setting) => {
      const toggle = document.getElementById(setting + 'Toggle');
      if (!toggle) return;
      toggle.onchange = function(e) {
        localStorage.setItem(setting, e.target.checked ? 'true' : 'false');
        applySetting(setting, e.target.checked);
      };
    });

    // --- Setting Effects ---
    function applySetting(setting, enabled) {
      switch (setting) {
        case 'comicSansify':
          document.body.style.fontFamily = enabled ? "'Comic Sans MS', 'Comic Sans', cursive, sans-serif" : '';
          break;
        case 'discoMode':
          if (enabled) {
            document.body.classList.add('disco-transition');
            discoInterval = setInterval(() => {
              document.body.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
            }, 400);
          } else {
            clearInterval(discoInterval);
            document.body.style.backgroundColor = '#f4f4f4';
            document.body.classList.remove('disco-transition');
          }
          break;
        case 'bouncyButtons':
          document.querySelectorAll('button').forEach(btn => {
            if (enabled) {
              btn.onmouseenter = () => btn.classList.add('bouncy');
              btn.onanimationend = () => btn.classList.remove('bouncy');
            } else {
              btn.onmouseenter = null;
              btn.onanimationend = null;
              btn.classList.remove('bouncy');
            }
          });
          break;
        case 'applause':
          break;
        case 'pirateMode':
          document.getElementById('viewOnlyTitle').textContent = enabled ? "View Only (Arrr!)" : "View Only";
          document.getElementById('editableTitle').textContent = enabled ? "Editable (for Captain Jack G)" : "Editable (only for Jack G)";
          document.getElementById('logoutBtn').textContent = enabled ? "Abandon Ship" : "Log Out";
          document.getElementById('goBtn').textContent = enabled ? "Set Sail" : "Go";
          document.getElementById('settingsBtn').title = enabled ? "Funny Pirate Settings" : "Funny Settings";
          break;
        case 'confetti':
          break;
        case 'motivationalQuotes':
          if (enabled) showMotivationalQuote(); else hideMotivationalQuote();
          break;
        case 'upsideDownMode':
          document.body.style.transform = enabled ? 'rotate(180deg)' : '';
          break;
        case 'typewriter':
          if (enabled) typewriterEffect(); else removeTypewriter();
          break;
        case 'censored':
          document.querySelectorAll('h2,.section').forEach(el => {
            if (enabled) el.classList.add('censored');
            else el.classList.remove('censored');
          });
          break;
        case 'raveMode':
          if (enabled) {
            raveInterval = setInterval(() => {
              document.body.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
              document.body.style.fontSize = (16 + Math.floor(Math.random()*20)) + 'px';
              document.querySelectorAll('button').forEach(btn => {
                btn.style.transform = `translateY(${Math.random()*20-10}px) scale(${1+Math.random()*0.2})`;
              });
            }, 100);
          } else {
            clearInterval(raveInterval);
            document.body.style.backgroundColor = '#f4f4f4';
            document.body.style.fontSize = '';
            document.querySelectorAll('button').forEach(btn => btn.style.transform = '');
          }
          break;
        case 'dramatic':
          const dramaticAudio = document.getElementById('dramaticAudio');
          if (enabled) {dramaticAudio.play();} else {dramaticAudio.pause();dramaticAudio.currentTime=0;}
          break;
        case 'emojiRain':
          if (enabled) emojiInterval = setInterval(() => emojiRain(), 500);
          else clearInterval(emojiInterval);
          break;
        case 'meme':
          if (enabled) memeInterval = setInterval(() => showMeme(), 3200);
          else clearInterval(memeInterval);
          break;
        case 'rickroll':
          if (enabled) startRickrollTimer();
          else clearRickrollTimer();
          break;
        case 'mirror':
          if (enabled) document.body.classList.add('mirrored');
          else document.body.classList.remove('mirrored');
          break;
        case 'laser':
          enableLaserPointer(enabled);
          break;
        case 'clownHorn':
          break;
        case 'surprisePopup':
          if (enabled) surpriseInterval = setInterval(() => showSurprisePopup(), 6000);
          else clearInterval(surpriseInterval);
          break;
        case 'lowBattery':
          document.getElementById('lowBatteryBanner').style.display = enabled ? 'block' : 'none';
          break;
        case 'shakespeare':
          if (enabled) {
            document.getElementById('logoutBtn').textContent = "Depart hence!";
            document.getElementById('goBtn').textContent = "Proceed!";
            document.getElementById('editableTitle').textContent = "Editable (for Lord Jack G)";
            document.getElementById('viewOnlyTitle').textContent = "View Only (Forsooth!)";
          } else {
            patchPirateModeDynamic();
          }
          break;
        case 'fakeVirus':
          if (enabled) setTimeout(()=>{document.getElementById('fakeVirusModal').style.display='block';},1200);
          else document.getElementById('fakeVirusModal').style.display='none';
          break;
      }
    }
    function throwConfetti(x, y) {
      for (let i = 0; i < 18; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = (x + Math.random()*40 - 20) + 'px';
        confetti.style.top = (y + Math.random()*40 - 20) + 'px';
        confetti.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
        confetti.style.animationDuration = (0.8 + Math.random() * 0.5) + 's';
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 1500);
      }
    }
    function playClownHorn() {
      document.getElementById('clownHornAudio').currentTime=0;
      document.getElementById('clownHornAudio').play();
    }
    document.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', function(e) {
        if (localStorage.getItem('confetti') === 'true') {
          const rect = btn.getBoundingClientRect();
          throwConfetti(rect.left + rect.width/2, rect.top + rect.height/2);
        }
        if (localStorage.getItem('clownHorn') === 'true') {
          playClownHorn();
        }
      });
    });
    function patchPirateModeDynamic() {
      if (localStorage.getItem('pirateMode') === 'true') {
        document.getElementById('viewOnlyTitle').textContent = "View Only (Arrr!)";
        document.getElementById('editableTitle').textContent = "Editable (for Captain Jack G)";
        document.getElementById('logoutBtn').textContent = "Abandon Ship";
        document.getElementById('goBtn').textContent = "Set Sail";
        document.getElementById('settingsBtn').title = "Funny Pirate Settings";
      } else {
        document.getElementById('viewOnlyTitle').textContent = "View Only";
        document.getElementById('editableTitle').textContent = "Editable (only for Jack G)";
        document.getElementById('logoutBtn').textContent = "Log Out";
        document.getElementById('goBtn').textContent = "Go";
        document.getElementById('settingsBtn').title = "Funny Settings";
      }
    }
    document.getElementById('settingsBtn').addEventListener('click', patchPirateModeDynamic);

    let targetUrl = "";
    function showPasswordPrompt(url) {
      targetUrl = url;
      if (localStorage.getItem('rememberMeJackG')) {
        window.location.href = targetUrl;
        return;
      }
      document.getElementById('passwordPrompt').style.display = 'block';
      document.getElementById('passwordInput').value = '';
      document.getElementById('rememberMe').checked = false;
    }
    function checkPassword() {
      const password = document.getElementById('passwordInput').value;
      const rememberMeChecked = document.getElementById('rememberMe').checked;
      // Check for "Jack" or "jack" in password
      if (/jack/i.test(password)) {
        alert("you are so dum");
        return;
      }
      if (password === "woman123") {
        if (rememberMeChecked) {
          localStorage.setItem('rememberMeJackG', 'true');
          document.getElementById('logoutBtn').style.display = 'block';
        }
        if (localStorage.getItem('applause') === 'true') {
          const applauseAudio = document.getElementById('applauseAudio');
          applauseAudio.currentTime = 0;
          applauseAudio.play();
        }
        window.location.href = targetUrl;
      }
    }
    function logout() {
      localStorage.removeItem('rememberMeJackG');
      document.getElementById('logoutBtn').style.display = 'none';
      document.getElementById('passwordPrompt').style.display = 'none';
      document.getElementById('passwordInput').value = '';
      document.getElementById('rememberMe').checked = false;
      alert(localStorage.getItem('pirateMode') === 'true' ?
        "Ye have been logged out, matey. Remember Me be off!" :
        "You have been logged out. Remember Me is now off.");
    }
    function emojiRain() {
      const emoji = emojiList[Math.floor(Math.random()*emojiList.length)];
      const div = document.createElement('div');
      div.className = 'emojiRain';
      div.textContent = emoji;
      div.style.left = (Math.random()*95)+'vw';
      div.style.top = '0vh';
      document.body.appendChild(div);
      setTimeout(()=>div.remove(),1500);
    }
    function showMeme() {
      const img = document.createElement('img');
      img.src = memeImages[Math.floor(Math.random()*memeImages.length)];
      img.className = 'memePopup';
      img.style.left = (Math.random()*80)+'vw';
      img.style.top = (10+Math.random()*70)+'vh';
      document.body.appendChild(img);
      setTimeout(()=>img.remove(),2200);
    }
    function showSurprisePopup() {
      alert(surpriseFacts[Math.floor(Math.random()*surpriseFacts.length)]);
    }
    function startRickrollTimer() {
      if (rickrollTimer) return;
      rickrollTimer = setTimeout(() => {
        window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
      }, 18000 + Math.random()*8000);
    }
    function clearRickrollTimer() {
      if (rickrollTimer) clearTimeout(rickrollTimer);
      rickrollTimer = null;
    }
    function enableLaserPointer(enabled) {
      const laser = document.getElementById('laserPointer');
      laserPointerActive = !!enabled;
      laser.style.display = enabled ? 'block':'none';
      if (enabled) {
        document.addEventListener('mousemove', laserMove);
      } else {
        document.removeEventListener('mousemove', laserMove);
      }
    }
    function laserMove(e) {
      const laser = document.getElementById('laserPointer');
      laser.style.left = (e.pageX-7)+'px';
      laser.style.top = (e.pageY-7)+'px';
    }
    function typewriterEffect() {
      const all = Array.from(document.querySelectorAll('h2,.section'));
      all.forEach(el => {
        if (!el.dataset.originalText) el.dataset.originalText = el.textContent;
        el.textContent = "";
        el.classList.add('typewriter-text');
      });
      let i=0;
      function typeNext() {
        if (i>=all.length) return;
        const el = all[i];
        el.style.visibility = 'visible';
        let txt = el.dataset.originalText;
        let idx=0;
        function typeLetter(){
          if(idx<=txt.length){
            el.textContent = txt.substr(0,idx) + (idx<txt.length?"|":"");
            idx++;
            setTimeout(typeLetter, 26);
          } else {
            el.textContent = txt;
            el.classList.remove('typewriter-text');
            i++;
            setTimeout(typeNext, 150);
          }
        }
        typeLetter();
      }
      typeNext();
    }
    function removeTypewriter() {
      Array.from(document.querySelectorAll('h2,.section')).forEach(el => {
        if (el.dataset.originalText) el.textContent = el.dataset.originalText;
        el.classList.remove('typewriter-text');
      });
    }
    // Forgot Password Modal logic (ALWAYS show fallback HTML)
    document.getElementById('forgotPasswordBtn').onclick = function() {
      const container = document.getElementById('forgotPasswordIframeContainer');
      container.innerHTML = `
        <div style="padding:24px;">
          <h1 class="fpstarter">Forgot Password?</h1>
          <p>
            If you are Jack M or Cody you can ask Lucas for a one-time password.<br>
            If you are Jack G or Lizzy please ask Lucas for a permanent remember me password.<br>
            <br>
            If you are not these people then it depends on if you are trustworthy or not?
          </p>
        </div>
      `;
      document.getElementById('forgotPasswordModal').style.display = 'flex';
    };

    document.getElementById('closeForgotPasswordBtn').onclick = function() {
      document.getElementById('forgotPasswordModal').style.display = 'none';
      document.getElementById('forgotPasswordIframeContainer').innerHTML = '';
    };
    document.getElementById('forgotPasswordModal').onclick = function(e) {
      if (e.target === this) {
        this.style.display = 'none';
        document.getElementById('forgotPasswordIframeContainer').innerHTML = '';
      }
    };
  </script>
</body>
</html>
