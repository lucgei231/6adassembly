<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>6AD Assembly Access</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
      transition: background-color 0.5s;
    }
    h2 {
      color: #333;
    }
    .section {
      margin-bottom: 30px;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .password-container {
      margin-top: 10px;
    }
    #logoutBtn {
      display: none;
      position: fixed;
      top: 10px;
      right: 10px;
      background: #d9534f;
      color: #fff;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      z-index: 1000;
    }
    .remember-container {
      margin-top: 8px;
      display: flex;
      align-items: center;
    }
    .remember-container label {
      margin-left: 5px;
      font-size: 15px;
      color: #333;
    }
    /* Settings button styles */
    #settingsBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      z-index: 999;
    }
    /* Settings modal styles */
    #settingsModal {
      display: none;
      position: fixed;
      bottom: 90px;
      right: 30px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.25);
      padding: 24px 24px 16px 24px;
      z-index: 1000;
      width: 320px;
      max-width: 90vw;
      animation: fadeIn 0.2s;
    }
    #settingsModal h3 {
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 22px;
      color: #222;
    }
    .setting-row {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
    }
    .setting-row label {
      margin-left: 8px;
      font-size: 16px;
      color: #333;
      flex: 1;
    }
    #closeSettingsBtn {
      display: block;
      margin: 0 auto;
      background: #d9534f;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 7px 18px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 6px;
    }
    /* Bouncy Button */
    .bouncy {
      animation: bounce 0.4s;
    }
    @keyframes bounce {
      0% { transform: translateY(0);}
      40% { transform: translateY(-8px);}
      80% { transform: translateY(0);}
    }
    /* Confetti styles */
    .confetti {
      position: fixed;
      pointer-events: none;
      z-index: 2000;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      opacity: 0.7;
      animation: confetti-fall 1s linear forwards;
    }
    @keyframes confetti-fall {
      to {
        transform: translateY(80vh) rotate(360deg);
        opacity: 0.2;
      }
    }
    /* Motivational quote */
    #motivationQuote {
      display: none;
      background: #fffae3;
      color: #a67c00;
      border-left: 5px solid #ffe066;
      padding: 12px 18px;
      margin-bottom: 18px;
      font-size: 16px;
      font-style: italic;
      border-radius: 8px;
    }
    /* Disco mode transition */
    .disco-transition {
      transition: background-color 0.2s;
    }
    @keyframes settingsFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px);}
      to { opacity: 1; transform: translateY(0);}
    }
  </style>
</head>
<body>
  <div id="motivationQuote"></div>

  <button id="logoutBtn" onclick="logout()">Log Out</button>

  <div class="section">
    <h2 id="viewOnlyTitle">View Only</h2>
    <button onclick="window.location.href='https://tinyurl.com/6ADassembly'">Script</button>
    <button onclick="window.location.href='https://tinyurl.com/6ADassemblypresentation'">Presentation</button>
    <button onclick="window.location.href='https://www.youtube.com/watch?v=dqpkWsR6Yew'">Harvest Samber</button>
  </div>

  <div class="section">
    <h2 id="editableTitle">Editable (only for Jack G)</h2>
    <div>
      <button onclick="showPasswordPrompt('https://tinyurl.com/6ADjackg1')">Script</button>
      <button onclick="showPasswordPrompt('https://tinyurl.com/6ADjackg2')">Presentation</button>
    </div>
    <div class="password-container" id="passwordPrompt" style="display:none;">
      <input type="password" id="passwordInput" placeholder="Enter password">
      <div class="remember-container">
        <input type="checkbox" id="rememberMe">
        <label for="rememberMe">Remember Me</label>
      </div>
      <button onclick="checkPassword()" id="goBtn">Go</button>
    </div>
  </div>

  <!-- Settings Button & Modal -->
  <button id="settingsBtn" title="Funny Settings">⚙️</button>
  <div id="settingsModal">
    <h3>Funny Settings</h3>
    <div class="setting-row">
      <input type="checkbox" id="comicSansToggle">
      <label for="comicSansToggle">Comic Sansify</label>
    </div>
    <div class="setting-row">
      <input type="checkbox" id="discoModeToggle">
      <label for="discoModeToggle">Disco Mode</label>
    </div>
    <div class="setting-row">
      <input type="checkbox" id="bouncyButtonsToggle">
      <label for="bouncyButtonsToggle">Bouncy Buttons</label>
    </div>
    <div class="setting-row">
      <input type="checkbox" id="applauseToggle">
      <label for="applauseToggle">Applause on Success</label>
    </div>
    <div class="setting-row">
      <input type="checkbox" id="pirateModeToggle">
      <label for="pirateModeToggle">Pirate Mode</label>
    </div>
    <div class="setting-row">
      <input type="checkbox" id="confettiToggle">
      <label for="confettiToggle">Celebrate Everything</label>
    </div>
    <div class="setting-row">
      <input type="checkbox" id="motivationToggle">
      <label for="motivationToggle">Show Motivational Quotes</label>
    </div>
    <button id="closeSettingsBtn">Close</button>
  </div>

  <audio id="applauseAudio" src="https://cdn.jsdelivr.net/gh/peachananr/applause@main/applause.mp3" preload="auto"></audio>

  <script>
    // --- Settings logic ---
    const funnySettings = [
      'comicSansify', 'discoMode', 'bouncyButtons', 'applause', 'pirateMode', 'confetti', 'motivationalQuotes'
    ];
    // Motivational quotes
    const motivationalQuotes = [
      "Believe you can and you're halfway there.",
      "You are braver than you believe, stronger than you seem, and smarter than you think.",
      "Keep going. Everything you need will come to you.",
      "Success is not for the lazy!",
      "If you think you can, you can.",
      "The best way to get started is to quit talking and begin doing.",
      "Don't watch the clock; do what it does. Keep going.",
      "Dream big and dare to fail."
    ];
    let discoInterval = null;
    // --- Settings Modal ---
    const settingsBtn = document.getElementById('settingsBtn');
    const settingsModal = document.getElementById('settingsModal');
    const closeSettingsBtn = document.getElementById('closeSettingsBtn');
    settingsBtn.onclick = () => settingsModal.style.display = 'block';
    closeSettingsBtn.onclick = () => settingsModal.style.display = 'none';
    window.onclick = (e) => {
      if (e.target === settingsModal) settingsModal.style.display = 'none';
    };

    // --- Apply settings on load ---
    window.onload = function() {
      // Password logic
      if (localStorage.getItem('rememberMeJackG')) {
        document.getElementById('logoutBtn').style.display = 'block';
      }

      // Load settings from localStorage & apply
      funnySettings.forEach((setting) => {
        const checked = localStorage.getItem(setting) === 'true';
        const toggle = document.getElementById(setting + 'Toggle');
        if (toggle) toggle.checked = checked;
        applySetting(setting, checked);
      });
      // Motivational quote
      if (localStorage.getItem('motivationalQuotes') === 'true') {
        showMotivationalQuote();
      }
    };

    // --- Motivational Quote ---
    function showMotivationalQuote() {
      const quoteBox = document.getElementById('motivationQuote');
      quoteBox.textContent = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
      quoteBox.style.display = 'block';
    }
    function hideMotivationalQuote() {
      document.getElementById('motivationQuote').style.display = 'none';
    }

    // --- Settings Handlers ---
    funnySettings.forEach((setting) => {
      const toggle = document.getElementById(setting + 'Toggle');
      if (!toggle) return;
      toggle.onchange = function(e) {
        localStorage.setItem(setting, e.target.checked ? 'true' : 'false');
        applySetting(setting, e.target.checked);
      };
    });

    function applySetting(setting, enabled) {
      switch (setting) {
        case 'comicSansify':
          document.body.style.fontFamily = enabled ? "'Comic Sans MS', 'Comic Sans', cursive, sans-serif" : '';
          break;
        case 'discoMode':
          if (enabled) {
            document.body.classList.add('disco-transition');
            discoInterval = setInterval(() => {
              document.body.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
            }, 400);
          } else {
            clearInterval(discoInterval);
            document.body.style.backgroundColor = '#f4f4f4';
            document.body.classList.remove('disco-transition');
          }
          break;
        case 'bouncyButtons':
          const allButtons = document.querySelectorAll('button');
          allButtons.forEach(btn => {
            if (enabled) {
              btn.onmouseenter = () => btn.classList.add('bouncy');
              btn.onanimationend = () => btn.classList.remove('bouncy');
            } else {
              btn.onmouseenter = null;
              btn.onanimationend = null;
              btn.classList.remove('bouncy');
            }
          });
          break;
        case 'applause':
          // No UI change needed, just flag for password success
          break;
        case 'pirateMode':
          // Change some UI text to pirate
          document.getElementById('viewOnlyTitle').textContent = enabled ? "View Only (Arrr!)" : "View Only";
          document.getElementById('editableTitle').textContent = enabled ? "Editable (for Captain Jack G)" : "Editable (only for Jack G)";
          document.getElementById('logoutBtn').textContent = enabled ? "Abandon Ship" : "Log Out";
          document.getElementById('goBtn').textContent = enabled ? "Set Sail" : "Go";
          document.getElementById('settingsBtn').title = enabled ? "Funny Pirate Settings" : "Funny Settings";
          break;
        case 'confetti':
          // No UI change needed, just flag for button clicks
          break;
        case 'motivationalQuotes':
          if (enabled) showMotivationalQuote();
          else hideMotivationalQuote();
          break;
      }
    }

    // --- Confetti on every button click if enabled ---
    function throwConfetti(x, y) {
      for (let i = 0; i < 18; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = (x + Math.random()*40 - 20) + 'px';
        confetti.style.top = (y + Math.random()*40 - 20) + 'px';
        confetti.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
        confetti.style.animationDuration = (0.8 + Math.random() * 0.5) + 's';
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 1500);
      }
    }
    document.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', function(e) {
        if (localStorage.getItem('confetti') === 'true') {
          const rect = btn.getBoundingClientRect();
          throwConfetti(rect.left + rect.width/2, rect.top + rect.height/2);
        }
      });
    });

    // --- Pirate Mode: also patch other UI elements on dynamic show ---
    function patchPirateModeDynamic() {
      if (localStorage.getItem('pirateMode') === 'true') {
        document.getElementById('viewOnlyTitle').textContent = "View Only (Arrr!)";
        document.getElementById('editableTitle').textContent = "Editable (for Captain Jack G)";
        document.getElementById('logoutBtn').textContent = "Abandon Ship";
        document.getElementById('goBtn').textContent = "Set Sail";
        document.getElementById('settingsBtn').title = "Funny Pirate Settings";
      } else {
        document.getElementById('viewOnlyTitle').textContent = "View Only";
        document.getElementById('editableTitle').textContent = "Editable (only for Jack G)";
        document.getElementById('logoutBtn').textContent = "Log Out";
        document.getElementById('goBtn').textContent = "Go";
        document.getElementById('settingsBtn').title = "Funny Settings";
      }
    }
    // Patch on modal open in case user toggled pirate mode
    settingsBtn.addEventListener('click', patchPirateModeDynamic);

    // --- Password logic with Applause ---
    let targetUrl = "";
    function showPasswordPrompt(url) {
      targetUrl = url;
      // If rememberMe is in localStorage, bypass password
      if (localStorage.getItem('rememberMeJackG')) {
        window.location.href = targetUrl;
        return;
      }
      document.getElementById('passwordPrompt').style.display = 'block';
      document.getElementById('passwordInput').value = '';
      document.getElementById('rememberMe').checked = false;
    }
    function checkPassword() {
      const password = document.getElementById('passwordInput').value;
      const rememberMeChecked = document.getElementById('rememberMe').checked;
      if (password === "woman123") {
        if (rememberMeChecked) {
          localStorage.setItem('rememberMeJackG', 'true');
          document.getElementById('logoutBtn').style.display = 'block';
        }
        // Applause logic
        if (localStorage.getItem('applause') === 'true') {
          const applauseAudio = document.getElementById('applauseAudio');
          applauseAudio.currentTime = 0;
          applauseAudio.play();
        }
        window.location.href = targetUrl;
      }
    }
    function logout() {
      localStorage.removeItem('rememberMeJackG');
      document.getElementById('logoutBtn').style.display = 'none';
      document.getElementById('passwordPrompt').style.display = 'none';
      document.getElementById('passwordInput').value = '';
      document.getElementById('rememberMe').checked = false;
      alert(localStorage.getItem('pirateMode') === 'true' ?
        "Ye have been logged out, matey. Remember Me be off!" :
        "You have been logged out. Remember Me is now off.");
    }
  </script>
</body>
</html>
